{"version":3,"sources":["redux/auth/auth-selectors.js","components/UserMenu/Navigation.js","components/UserMenu/UserMenu.js","components/UserMenu/AuthNav.js","components/UserMenu/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","reportWebVitals.js","redux/contacts/reducers/filterReducer.js","redux/contacts/reducers/contactsReducer.js","redux/auth/auth-reducers.js","redux/store.js","index.js","components/UserMenu/userMenu.module.css","redux/auth/auth-operations.js","redux/auth/auth-actions.js","redux/contacts/actions/userActions.js"],"names":["isAuthenticated","store","auth","isAuth","getUsername","user","name","connect","state","to","exact","className","s","link","activeClassName","activeLink","fontSize","mapDispatchToProps","onLogout","operations","logout","container","color","type","onClick","exitButton","AuthNav","header","Component","component","redirectTo","routeProps","render","props","restricted","Homepage","lazy","Login","Register","App","this","getCurrentUser","fallback","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","filterReducer","createReducer","filterContacts","_","payload","contactsReducer","fetchContactsSuccess","addContactsSuccess","deleteContactsSuccess","filter","el","id","editContactsSuccess","map","loader","fetchContactsRequest","fetchContactsError","addContactsRequest","addContactsError","deleteContactsRequest","editContactsRequest","editContactsError","deleteContactsError","initialUserState","email","registerSuccess","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","setError","error","registerError","loginError","logoutError","getCurrentUserError","getCurrentUserRequest","combineReducers","authPersistConfig","key","storage","whitelist","contactsReducers","items","reducers","rootReducer","contacts","persistReducer","authReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","configureStore","reducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById","module","exports","axios","defaults","baseURL","set","headers","common","Authorization","unset","register","credentials","dispatch","a","registerRequest","post","data","message","login","loginRequest","logoutRequest","getState","persistedToken","get","createAction"],"mappings":"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","file":"static/js/main.c284bdfc.chunk.js","sourcesContent":["export const isAuthenticated=store=>store.auth.isAuth\r\nexport const getUsername=store=>store.auth.user.name\r\n\r\n\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { isAuthenticated } from \"../../redux/auth/auth-selectors\";\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport s from \"./userMenu.module.css\";\r\n\r\n\r\nconst Navigation = ({ isAuthenticated }) => (\r\n  <nav>\r\n    {isAuthenticated && (\r\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.activeLink}>\r\n        <HomeIcon fontSize=\"large\" />\r\n      </NavLink>\r\n    )}\r\n  </nav>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: isAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport operations from '../../redux/auth/auth-operations'\r\nimport {getUsername} from '../../redux/auth/auth-selectors'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport s from './userMenu.module.css'\r\n\r\n\r\n\r\n\r\nconst UserMenu = ({ name, onLogout }) => (\r\n  <div className={s.container}>\r\n    \r\n    <AccountBoxIcon color=\"primary\" fontSize=\"large\"/>\r\n    <span className={s.name}>Welcome, {name}</span>\r\n    <button type=\"button\" onClick={onLogout} className={s.exitButton}>\r\n    <ExitToAppIcon color=\"primary\" fontSize=\"large\"/>\r\n    </button>\r\n  </div>\r\n);\r\nconst mapStateToProps = state => ({\r\n  name: getUsername(state),\r\n\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: operations.logout,\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(UserMenu);","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./userMenu.module.css\";\r\n\r\nconst AuthNav = () => (\r\n  <div>\r\n    <NavLink to=\"/register\" exact className={s.link} activeClassName={s.activeLink}>\r\n      Registration\r\n    </NavLink>\r\n    <NavLink to=\"/login\" exact className={s.link} activeClassName={s.activeLink}>\r\n      Login\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Navigation from \"./Navigation\";\r\nimport UserMenu from \"./UserMenu\";\r\nimport { isAuthenticated } from \"../../redux/auth/auth-selectors\";\r\n\r\nimport AuthNav from \"./AuthNav\";\r\nimport s from \"./userMenu.module.css\";\r\n\r\nconst AppBar = ({ isAuthenticated }) => (\r\n  <header className={s.header}>\r\n    <Navigation />\r\n\r\n    {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n  </header>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: isAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport  {isAuthenticated} from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated:  isAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {isAuthenticated} from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated:  isAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);","import React, { Component, lazy, Suspense } from \"react\";\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./App.css\";\r\nimport operations from './redux/auth/auth-operations'\r\nimport {connect} from 'react-redux'\r\nimport AppBar from './components/UserMenu/AppBar'\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport PublicRoute from './components/PublicRoute'\r\n\r\nconst  Homepage= lazy(()=>import('./views/HomePage'))\r\nconst  Login = lazy(()=>import('./views/Login'))\r\nconst  Register = lazy(()=>import('./views/Register'))\r\n\r\n\r\nclass App extends Component {\r\n  componentDidMount(){\r\n    this.props.getCurrentUser()\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n         <AppBar/>\r\n        <Suspense fallback={<p className='fallback'>Загружаем...</p>}>\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/\" component={Homepage} redirectTo=\"/login\"/>\r\n          <PublicRoute restricted path=\"/login\" redirectTo=\"/\" component={Login}/>\r\n          <PublicRoute restricted path=\"/register\" redirectTo=\"/\"  component={Register}/>\r\n        </Switch>\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps={\r\ngetCurrentUser:operations.getCurrentUser\r\n}\r\n\r\n\r\nexport default connect(null,mapDispatchToProps)(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {createReducer} from \"@reduxjs/toolkit\"\r\nimport { filterContacts}from \"../actions/userActions\"\r\n\r\n// ===========Redux===============\r\n// const { filter } = types;\r\n\r\n// const filterReducer = (state = \"\", action) => {\r\n//   const { type, payload } = action;\r\n//   switch (type) {\r\n//     case filter:\r\n//       return payload;\r\n//     default:\r\n//       return state;\r\n//   }\r\n// }\r\n\r\n\r\n// ===========Redux Toolkit===============\r\n\r\nconst filterReducer=createReducer('',{\r\n  [filterContacts]:((_,{payload})=> payload)\r\n})\r\n\r\nexport default filterReducer","// import types from \"../actions/actionsTypes\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactsRequest,\r\n  addContactsSuccess,\r\n  addContactsError,\r\n  deleteContactsRequest,\r\n  deleteContactsSuccess,\r\n  deleteContactsError,\r\n  editContactsRequest,\r\n  editContactsSuccess,\r\n  editContactsError,\r\n} from \"../actions/userActions.js\";\r\n\r\n// ===========Redux===============\r\n// const { add, deleteUsers } = types;\r\n\r\n// const contacts = [\r\n//   { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\r\n//   { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\r\n//   { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\r\n//   { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\r\n// ];\r\n\r\n// const contactsReducer = (state = contacts, action) => {\r\n//   const { type, payload } = action;\r\n//   switch (type) {\r\n//     case add:\r\n//       return [...state, payload];\r\n//     case deleteUsers:\r\n//       return state.filter((el) => el.id !== payload);\r\n//       default:\r\n//         return state\r\n//   }\r\n// };\r\n\r\n// ===========Redux Toolkit===============\r\n// const state = [\r\n//   { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\r\n//   { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\r\n//   { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\r\n//   { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\r\n// ];\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactsSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactsSuccess]: (state, { payload }) => {\r\n    return state.filter((el) => el.id !== payload);\r\n  },\r\n  [editContactsSuccess]: (state, { payload }) =>\r\n    state.map((el) => (el.id === payload.id ? payload : el)),\r\n});\r\n\r\nconst loader = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactsRequest]: () => true,\r\n  [addContactsSuccess]: () => false,\r\n  [addContactsError]: () => false,\r\n  [deleteContactsRequest]: () => true,\r\n  [editContactsRequest]: () => true,\r\n  [editContactsSuccess]: () => false,\r\n  [editContactsError]: () => false,\r\n  [deleteContactsSuccess]: () => false,\r\n  [deleteContactsError]: () => false,\r\n\r\n});\r\n\r\nexport default { contactsReducer, loader };\r\n","import {combineReducers} from 'redux'\r\nimport {createReducer} from '@reduxjs/toolkit'\r\nimport {\r\n    registerRequest,\r\n    registerSuccess,\r\n    registerError,\r\n    loginSuccess,\r\n    loginRequest,\r\n    loginError,\r\n    logoutSuccess,\r\n    logoutRequest,\r\n    logoutError,\r\n    getCurrentUserSuccess,\r\n    getCurrentUserRequest,\r\n    getCurrentUserError\r\n} from './auth-actions'\r\n\r\n\r\nconst initialUserState={name:null, email:null}\r\n\r\nconst user =createReducer(initialUserState, {\r\n   [registerSuccess]:(_,{payload})=>payload.user, \r\n   [loginSuccess]:(_,{payload})=>payload.user, \r\n   [logoutSuccess]:()=>initialUserState,\r\n   [getCurrentUserSuccess]:(_,{payload})=>payload\r\n\r\n})\r\n\r\nconst token =createReducer(null, {\r\n    [registerSuccess]:(_,{payload})=>payload.token,\r\n    [loginSuccess]:(_,{payload})=>payload.token,\r\n    [logoutSuccess]:()=>null\r\n})\r\n\r\nconst setError=(_, {payload})=>payload\r\nconst error =createReducer(null, {\r\n    [registerError]: setError,\r\n    [loginError]: setError,\r\n    [logoutError]: setError,\r\n    [getCurrentUserError]: setError\r\n})\r\n\r\nconst isAuth=createReducer(false,{\r\n    [getCurrentUserRequest]:()=>true,\r\n    [registerSuccess]:()=>true,\r\n    [loginSuccess]:()=>true,\r\n    [getCurrentUserSuccess]:()=>true,\r\n    [registerError]:()=>false,\r\n    [loginError]:()=>false,\r\n    [getCurrentUserError]:()=>false,\r\n    [logoutSuccess]:()=>false,\r\n})\r\n\r\n\r\n\r\nexport default combineReducers ({\r\n    user,\r\n    token,\r\n    error,\r\n    isAuth,\r\n})","// ===========Redux===============\r\n// import { createStore, combineReducers } from \"redux\";\r\n// import filterReducer from \"./reducers/filterReducer\";\r\n// import contactsReducer from \"./reducers/contactsReducer\";\r\n\r\n// const contactsReducers=combineReducers({\r\n//     items: contactsReducer,\r\n//     filter: filterReducer,\r\n// })\r\n\r\n// const rootReducer = combineReducers({\r\n//   contacts:contactsReducers\r\n// });\r\n\r\n// const store = createStore(\r\n//   rootReducer,\r\n//   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n// );\r\n// ===========Redux Toolkit===============\r\nimport {\r\n  configureStore,\r\n  combineReducers,\r\n  getDefaultMiddleware,\r\n} from \"@reduxjs/toolkit\";\r\nimport filterReducer from \"./contacts/reducers/filterReducer\";\r\nimport reducers from \"./contacts/reducers/contactsReducer\";\r\nimport authReducers from './auth/auth-reducers'\r\nimport storage from 'redux-persist/lib/storage'\r\nimport logger from \"redux-logger\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst contactsReducers = combineReducers({\r\n  items: reducers.contactsReducer,\r\n  filter: filterReducer,\r\n  loader: reducers.loader,\r\n  error: reducers.error,\r\n});\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReducers,\r\n  auth: persistReducer(authPersistConfig,authReducers)\r\n});\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <Provider store={store.store}>\r\n     <PersistGate loading={null} persistor={store.persistor}>\r\n  \r\n<BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>\r\n  </PersistGate>\r\n  </Provider>\r\n \r\n   </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"userMenu_container__1RPqo\",\"name\":\"userMenu_name__1cMGa\",\"link\":\"userMenu_link__76oK8\",\"activeLink\":\"userMenu_activeLink__1iXfz\",\"exitButton\":\"userMenu_exitButton__1dGe8\"};","import axios from \"axios\";\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginSuccess,\r\n  loginRequest,\r\n  loginError,\r\n  logoutSuccess,\r\n  logoutRequest,\r\n  logoutError,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserRequest,\r\n  getCurrentUserError,\r\n} from \"./auth-actions\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst register = (credentials) => async (dispatch) => {\r\n  dispatch(registerRequest());\r\n  try {\r\n    const { data } = await axios.post(\"/users/signup\", credentials);\r\n    token.set(data.token);\r\n    dispatch(registerSuccess(data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nconst login = (credentials) => async (dispatch) => {\r\n  dispatch(loginRequest());\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", credentials);\r\n    dispatch(loginSuccess(data));\r\n    token.set(data.token);\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logout = () => async (dispatch) => {\r\n  dispatch(logoutRequest());\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n    token.unset();\r\n    dispatch(logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n  dispatch(getCurrentUserRequest());\r\n  try {\r\n    const { data } = await axios.get(\"/users/current\");\r\n\r\n    dispatch(getCurrentUserSuccess(data));\r\n  } catch (error) {\r\n    dispatch(getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default {\r\n  token,\r\n  register,\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n};\r\n","import {createAction} from '@reduxjs/toolkit'\r\n\r\nexport const registerRequest=createAction('auth/registerRequest')\r\nexport const registerSuccess=createAction('auth/registerSuccess')\r\nexport const registerError=createAction('auth/registerError')\r\n\r\nexport const loginSuccess=createAction('auth/loginSuccess')\r\nexport const loginRequest=createAction('auth/loginRequest')\r\nexport const loginError=createAction('auth/loginError')\r\n\r\nexport const logoutSuccess=createAction('auth/logoutSuccess')\r\nexport const logoutRequest=createAction('auth/logoutRequest')\r\nexport const logoutError=createAction('auth/logoutError')\r\n\r\nexport const getCurrentUserSuccess=createAction('auth/getCurrentUserSuccess')\r\nexport const getCurrentUserRequest=createAction('auth/getCurrentUserRequest')\r\nexport const getCurrentUserError=createAction('auth/getCurrentUserError')","// import { v4 as uuidv4 } from \"uuid\";\r\nimport { createAction } from \"@reduxjs/toolkit\";\r\n\r\n// ===========Redux===============\r\n// const addContact=(contactObj)=>{\r\n//     return{\r\n//         type:add,\r\n//         payload:{\r\n//             id:  uuidv4(),\r\n//             name:contactObj.name,\r\n//             number:contactObj.number,\r\n//         }\r\n//     }\r\n// }\r\n\r\n// const deleteContact=(id)=>{\r\n//     return{\r\n//         type:deleteUsers,\r\n//         payload:id\r\n//     }\r\n// }\r\n\r\n// const filterContacts=(value)=>{\r\n//     return{\r\n//         type:filter,\r\n//         payload:value,\r\n//     }\r\n\r\n// }\r\n// ===========Redux Toolkit===============\r\n//  const addContact = createAction(\"ADD_CONTACT\", ({ id, name, number }) => {\r\n//   return {\r\n//     payload: {\r\n//       id: uuidv4(),\r\n//       name: name,\r\n//       number: number,\r\n//     },\r\n//   };\r\n// });\r\n\r\n// const deleteContact = createAction(\"DELETE_CONTACT\");\r\n// const filterContacts = createAction(\"FILTER_CONTACTS\");\r\n\r\n// export default { addContact, deleteContact, filterContacts };\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"contacts/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"contacts/fetchContactsSuccess\"\r\n);\r\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\n\r\nexport const addContactsRequest = createAction(\"contacts/addContactsRequest\");\r\nexport const addContactsSuccess = createAction(\"contacts/addContactsSuccess\");\r\nexport const addContactsError = createAction(\"contacts/addContactsError\");\r\n\r\nexport const deleteContactsRequest = createAction(\r\n  \"contacts/deleteContactsRequest\"\r\n);\r\nexport const deleteContactsSuccess = createAction(\r\n  \"contacts/deleteContactsSuccess\"\r\n);\r\nexport const deleteContactsError = createAction(\"contacts/deleteContactsError\");\r\n\r\nexport const filterContacts = createAction(\"contacts/filter\");\r\n\r\n\r\nexport const editContactsRequest = createAction(\"contacts/editContactsRequest\");\r\nexport const editContactsSuccess = createAction(\"contacts/editContactsSuccess\");\r\nexport const editContactsError = createAction(\"contacts/editContactsError\");\r\n"],"sourceRoot":""}